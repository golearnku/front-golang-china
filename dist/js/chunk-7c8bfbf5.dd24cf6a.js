(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c8bfbf5"],{"19a1":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-node-show"},[a("header",{staticClass:"page-header bg-grey-blue py-3 text-white"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-md-6"},[a("h1",[t._v(t._s(t.node.title))]),a("p",[t._v(t._s(t.node.description))])]),a("div",{staticClass:"col-md-6 d-flex justify-content-end"},[a("subscribe-btn",{attrs:{relation:"node",item:t.node}})],1)])])]),a("div",{staticClass:"container"},[a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"box box-flush"},[a("div",{staticClass:"box-body"},[a("ul",{staticClass:"nav nav-pills"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:"default"==t.currentThreadsTab},attrs:{href:"javascript:;"},on:{click:function(e){t.currentThreadsTab="default"}}},[t._v("活跃")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:"featured"==t.currentThreadsTab},attrs:{href:"javascript:;"},on:{click:function(e){t.currentThreadsTab="featured"}}},[t._v("精选")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:"zeroComment"==t.currentThreadsTab},attrs:{href:"javascript:;"},on:{click:function(e){t.currentThreadsTab="zeroComment"}}},[t._v("零回复")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:"recent"==t.currentThreadsTab},attrs:{href:"javascript:;"},on:{click:function(e){t.currentThreadsTab="recent"}}},[t._v("最新发布")])])])]),a("threads-list",{attrs:{threads:t.threads[t.currentThreadsTab]},on:{"page-changed":t.handlePageChanged}})],1)]),a("div",{staticClass:"col-md-3"},[a("hot-tags")],1)])])])},s=[],n=a("cebc"),r=a("2f62"),l=a("e1cc"),o=a("1ea6"),c=a("ef33"),u={components:{SubscribeBtn:c["a"],HotTags:l["a"],ThreadsList:o["a"]},data:function(){return{node:{},threads:{default:{},featured:{},zeroComment:{},recent:{}},currentThreadsTab:"default"}},computed:Object(n["a"])({},Object(r["c"])(["currentUser"])),beforeRouteUpdate:function(t,e,a){t.params.id!=e.params.id&&(this.getNode(t.params.id),this.loadThreads(t.params.id)),a()},created:function(){this.getNode(this.$route.params.id),this.loadThreads(this.$route.params.id)},watch:{currentThreadsTab:function(){this.loadThreads(this.$route.params.id,1)}},methods:{loadThreads:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$http.get("nodes/".concat(t,"/threads?all=yes&page=").concat(a)).then(function(t){return e.threads[e.currentThreadsTab]=t})},handlePageChanged:function(t){this.loadThreads(t)},getNode:function(t){var e=this;this.$http.get("nodes/".concat(t)).then(function(t){e.node=t})}}},d=u,h=a("2877"),f=Object(h["a"])(d,i,s,!1,null,null,null);e["default"]=f.exports},"406a":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"material-design-icon check-icon",attrs:{"aria-hidden":t.decorative,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},[a("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}},[a("title",[t._v(t._s(t.title))])])])])},s=[],n=(a("c5f6"),{name:"CheckIcon",props:{title:{type:String,default:"Check icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}}),r=n,l=a("2877"),o=Object(l["a"])(r,i,s,!1,null,null,null);e["a"]=o.exports},"6c60":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{on:{click:t.toggle}},[t.item[t.actions[t.action]]?[t._t("off")]:[t._t("on")]],2)},s=[],n={props:{relation:{type:String,required:!0},action:{type:String,required:!0},item:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{types:{thread:"App\\Thread",user:"App\\User",node:"App\\Node"},actions:{like:"has_liked",follow:"has_followed",subscribe:"has_subscribed"}}},methods:{toggle:function(){var t=this;this.post("relations/".concat(this.action),{followable_type:this.types[this.relation],followable_id:this.item.id}).then(function(){t.item[t.actions[t.action]]=!t.item[t.actions[t.action]],t.$emit("after-toggle",t.item[t.actions[t.action]])})}}},r=n,l=a("2877"),o=Object(l["a"])(r,i,s,!1,null,null,null);e["a"]=o.exports},aa63:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"material-design-icon volume-mute-icon",attrs:{"aria-hidden":t.decorative,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},[a("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M3,9H7L12,4V20L7,15H3V9M16.59,12L14,9.41L15.41,8L18,10.59L20.59,8L22,9.41L19.41,12L22,14.59L20.59,16L18,13.41L15.41,16L14,14.59L16.59,12Z"}},[a("title",[t._v(t._s(t.title))])])])])},s=[],n=(a("c5f6"),{name:"VolumeMuteIcon",props:{title:{type:String,default:"Volume Mute icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}}),r=n,l=a("2877"),o=Object(l["a"])(r,i,s,!1,null,null,null);e["a"]=o.exports},c068:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"material-design-icon volume-high-icon",attrs:{"aria-hidden":t.decorative,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},[a("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z"}},[a("title",[t._v(t._s(t.title))])])])])},s=[],n=(a("c5f6"),{name:"VolumeHighIcon",props:{title:{type:String,default:"Volume High icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}}),r=n,l=a("2877"),o=Object(l["a"])(r,i,s,!1,null,null,null);e["a"]=o.exports},e1cc:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box text-gray-50"},[t._m(0),a("ul",{staticClass:"plan-list text-13"},[t._l(t.nodes,function(e){return[a("router-link",{key:e.id,staticClass:"py-1 cursor-pointer",attrs:{tag:"li",to:{name:"nodes.node",params:{id:e.id}}}},[t._v("\n        #"+t._s(e.title)+" "),a("span",{staticClass:"float-right"},[t._v(t._s(e.cache.threads_count))])])]})],2)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box-heading"},[a("div",{staticClass:"text-13"},[t._v("热门话题")])])}],n={name:"HotTags",data:function(){return{nodes:[]}},methods:{loadNodes:function(){var t=this;this.$http.get("nodes?hot=5&per_page=5").then(function(e){return t.nodes=e.data})}},created:function(){this.loadNodes()}},r=n,l=a("2877"),o=Object(l["a"])(r,i,s,!1,null,"16c87981",null);e["a"]=o.exports},ef33:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("relation-btn",{attrs:{relation:t.relation,action:"subscribe",item:t.item}},[a("button",{staticClass:"btn btn-sm text-gray-50",attrs:{slot:"on"},slot:"on"},[a("volume-high"),a("span",{staticClass:"pl-1"},[t._v("订阅")])],1),a("button",{staticClass:"btn btn-sm",class:{"btn-primary":!t.hovering,"btn-danger":t.hovering},attrs:{slot:"off"},on:{mouseenter:function(e){t.hovering=!0},mouseleave:function(e){t.hovering=!1}},slot:"off"},[t.hovering?a("volume-mute"):a("check-icon"),a("span",{staticClass:"pl-1"},[t._v(t._s(t.hovering?"取消订阅":"已订阅"))])],1)])},s=[],n=a("6c60"),r=a("aa63"),l=a("c068"),o=a("406a"),c={name:"subscribe-btn",components:{RelationBtn:n["a"],VolumeMute:r["a"],VolumeHigh:l["a"],CheckIcon:o["a"]},props:{relation:{type:String,required:!0},item:{type:Object,required:!0}},data:function(){return{hovering:!1}}},u=c,d=a("2877"),h=Object(d["a"])(u,i,s,!1,null,null,null);e["a"]=h.exports}}]);
//# sourceMappingURL=chunk-7c8bfbf5.dd24cf6a.js.map